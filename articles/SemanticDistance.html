<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>SemanticDistance • SemanticDistance</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="SemanticDistance">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SemanticDistance</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/SemanticDistance.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Reilly-ConceptsCognitionLab/SemanticDistance/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>SemanticDistance</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Reilly-ConceptsCognitionLab/SemanticDistance/blob/main/vignettes/SemanticDistance.Rmd" class="external-link"><code>vignettes/SemanticDistance.Rmd</code></a></small>
      <div class="d-none name"><code>SemanticDistance.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="install-package-and-load-library">Install package and load library<a class="anchor" aria-label="anchor" href="#install-package-and-load-library"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages("devtools") # to install development version, run this</span></span>
<span><span class="co">#devtools::install_github("Reilly-ConceptsCognitionLab/ConversationAlign") #installs from github</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Reilly-ConceptsCognitionLab/SemanticDistance" class="external-link">SemanticDistance</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'magrittr::set_names' by 'purrr::set_names'</span></span>
<span><span class="co">#&gt; when loading 'SemanticDistance'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'purrr::%@%' by 'rlang::%@%' when loading</span></span>
<span><span class="co">#&gt; 'SemanticDistance'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'purrr::flatten_lgl' by 'rlang::flatten_lgl'</span></span>
<span><span class="co">#&gt; when loading 'SemanticDistance'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'purrr::splice' by 'rlang::splice' when</span></span>
<span><span class="co">#&gt; loading 'SemanticDistance'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'purrr::flatten_chr' by 'rlang::flatten_chr'</span></span>
<span><span class="co">#&gt; when loading 'SemanticDistance'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'purrr::flatten_raw' by 'rlang::flatten_raw'</span></span>
<span><span class="co">#&gt; when loading 'SemanticDistance'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'purrr::flatten' by 'rlang::flatten' when</span></span>
<span><span class="co">#&gt; loading 'SemanticDistance'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'purrr::flatten_dbl' by 'rlang::flatten_dbl'</span></span>
<span><span class="co">#&gt; when loading 'SemanticDistance'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'purrr::invoke' by 'rlang::invoke' when</span></span>
<span><span class="co">#&gt; loading 'SemanticDistance'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'purrr::flatten_int' by 'rlang::flatten_int'</span></span>
<span><span class="co">#&gt; when loading 'SemanticDistance'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'dplyr::lag' by 'stats::lag' when loading</span></span>
<span><span class="co">#&gt; 'SemanticDistance'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'dplyr::filter' by 'stats::filter' when</span></span>
<span><span class="co">#&gt; loading 'SemanticDistance'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'magrittr::extract' by 'tidyr::extract' when</span></span>
<span><span class="co">#&gt; loading 'SemanticDistance'</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="semantic-distance-what-it-does-">Semantic Distance: What it does.<a class="anchor" aria-label="anchor" href="#semantic-distance-what-it-does-"></a>
</h2>
<p>Semantic distance is an empirical measure of distance between two
elements (words, ngrams, documents) within an n-dimensional semantic
space. There are <em>many</em> ways to measure semantic distance. The
<code>SemanticDistance</code> package appends pairwise cosine distance
values between different chunks of language where those chunk sizes are
specified by the user (e.g., word-to-word, ngram-to-word). The package
derives empirical distance values by indexing two large lookup databases
embedded within the package. Both databases include fixed semantic
vectors for many English words. One measure (CosDist_Glo) reflects
distance between pairwise vectors (Dog:Leash) derived from training a
GLOVE word embedding model (300 hyperparameters per word). A
complementary metric (CodDist_SD15) refects cosine distance between two
chunks (words, groups of words) characterized across 15 meaningful
perceptual and affective dimensions (e.g., color, sound, valence).
<br></p>
<p>SemanticDistance cleans and formats your target text by applying a
variety of options (e.g., leave it alone, clean punctuation, omit
stopwords, lemmatize strings). The package can handle a variety of
dataframe formats, including ordered monologues, word pairs arrayed in
columns, unordered word lists, and dialogue transcripts marked by talker
information. <br></p>
<p>SemanticDistance scans your cleaned/formatted dataframe and computes
two different metrics of semantic distance between successive chunks
(e.g., ngrams, words, turns). The two semantic distance values reflect
pairwise cosine distance (0 to 2) between two different high dimensional
semantic spaces. Experiential semantic distance (SD15) reflects pairwise
distance between two word vectors (e.g., dog:cat) spanning 15 meaningful
semantic dimensions (e.g., color, sound, valence). Embedding-based
semantic distances (Glo) are derived by contrasting each word’s semantic
vector spanning 300 hyperparameters as trained on the GLOVE word
embedding model. <br></p>
</div>
<div class="section level2">
<h2 id="step-1-clean-and-prep-your-text">
<span style="color: red;">Step 1: Clean and Prep Your
Text</span><a class="anchor" aria-label="anchor" href="#step-1-clean-and-prep-your-text"></a>
</h2>
<p>SemanticDistance works on monologues (no talker information),
dialogues (two or more speakers), word pairs arrayed in columns, and
unstructured word lists (for hierarchical clustering). Cleaning can even
handle unstructured text pasted into a single cell of a csv file.
However, you MUST run an appropriate cleaning function before you run
any distance functions even if you do not apply any of the cleaning
options. These functions append unique identifiers that are used in the
distance calculations. <br></p>
<ol style="list-style-type: decimal">
<li>Prep your string data (csv or text) and read it into R (e.g.,
myrawdat). Call your objects and variables anything you like.
SemanticDistance will retain your metadata. <br>
</li>
<li>Your data should contain at least one column with some string data
in it (e.g., mytext). <br>
</li>
<li>Identify the format of your sample (e.g., monologue, dialogue,
columns, unstructured). <br>
</li>
<li>Decide on your cleaning parameters (lemmatize, omit stopwords, omit
punctuation). <br>
</li>
<li>Specify the cleaning function and arguments that best fit your aims.
<br>
</li>
</ol>
<div class="section level4">
<h4 id="monologue-transcript-clean_monologue">Monologue Transcript (clean_monologue)<a class="anchor" aria-label="anchor" href="#monologue-transcript-clean_monologue"></a>
</h4>
<p>This could be a story etc. - basically any string where word order
matters but you don’t care about talker information. Your target text
will be split and unlisted into a one word per row format.All other
metadata will be retained. Here’s a sample monologue with all sorts of
junk in a column called ‘word’. The ‘clean_monologue’ function will
split and append a unique identifier to each word while retaining empty
strings that could be meaningful. Defaults are to omit stopwords and
lemmatize. <br></p>
</div>
</div>
<div class="section level2">
<h2 id="step-2-compute-semantic-distance">
<span style="color: red;">Step 2: Compute Semantic
Distance</span><a class="anchor" aria-label="anchor" href="#step-2-compute-semantic-distance"></a>
</h2>
</div>
<div class="section level2">
<h2 id="step-2-compute-semantic-distance-on-your-prepped-data">
<span style="color: darkred;">Step 2: Compute Semantic Distance on
your Prepped Data</span><a class="anchor" aria-label="anchor" href="#step-2-compute-semantic-distance-on-your-prepped-data"></a>
</h2>
<p>SemanticDistance will append cosine distance values between each pair
of elements specified by the user (e.g., word-to-word, ngram-to-word).
These distance values are derived from two large lookup databases in the
package with fixed semantic vectors for &gt;70k English words.
CosDist_Glo reflects cosine distance between vectors derived from
training a GLOVE word embedding model (300 hyperparameters per word).
CodDist_SD15 refects cosine distance between two chunks (words, groups
of words) characterized across 15 meaningful perceptual and affective
dimensions (e.g., color, sound, valence). <br></p>
<p>Users specify an ngram window size. This window rolls successively
over your language sample to compute a semantic distance value for each
new word relative to the n-words (ngram size) before it. This model of
compouting distance is illustrated in the figure. The larger your
specified ngram size the more smoothed the semantic vector will be over
your language sample. Once you settle on a window size and clean your
language transcript (works for monologues only), you are ready to roll.
Here’s the general idea… <br></p>
<div class="section level3">
<h3 id="monologues-ngram-to-ngram-distance-dist_ngram2ngram">
<span style="color: brown;">2.2: Monologues: Ngram-to-Ngram Distance
(dist_ngram2ngram)</span><a class="anchor" aria-label="anchor" href="#monologues-ngram-to-ngram-distance-dist_ngram2ngram"></a>
</h3>
<p><img src="reference/figures/Ngram2Ngram_Dist.png" alt="illustrates how semantic distance is derived from chunk to chunk groupings of words" width="50%"></p>
<p>Joins target transcript to lookup database so each word has a
corresponding semantic vector in row form. For example, if interested in
4-word chunks, then dog-cat-milk-banana (Ngram_4) would be the first
ngram. We will aggregate the semantic vectors for all four words into a
mean vector for that 4-gram then compute the distance to the next 4-gram
iterating through the dataframe to the last possible chunk of four words
omitting the ‘leftovers’ (residual/remainder not divisible by the ngram
size). For example if there are 22 words and the user is interested in
3-grams, there would be 7 of these with one word left over in the last
row.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jamie Reilly, Emily B. Myers, Hannah R. Mechtenberg, Jonathan E. Peelle.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
